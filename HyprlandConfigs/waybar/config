{
    "layer": "top",
    "position": "top",
    "height": 32, 

    "modules-left": ["hyprland/workspaces"],
    "modules-center": ["clock#time", "custom/weather"],
    "modules-right": ["temperature", "pulseaudio", "clock#date", "custom/power"], 

    "hyprland/workspaces": {
        "format": "{id}", 
        "on-scroll-up": "hyprctl dispatch workspace e+1",
        "on-scroll-down": "hyprctl dispatch workspace e-1"
    },

    "temperature": { 
        "format": "Ôãâ {temperatureC}¬∞C",
     
   "tooltip": false,
        "interval": 10,
        "hwmon-path": "/sys/class/hwmon/hwmon4/temp1_input",
        "critical-threshold": 80,
        "format-critical": "üî•üî• {temperatureC}¬∞C"
    },
    
    "pulseaudio": {
        "format": "ÔÄ® {volume}%",
        "format-muted": "ÔÄß Muted",
        "tooltip": false,
        "scroll-step": 2, 
       
 "on-click": "pavucontrol", 
        "format-icons": {
            "default": ["ÔÄß", "ÔÄß", "ÔÄ®"]
        }
    },

    "custom/weather": { 
        "exec": "curl -s 'wttr.in/64085?format=%t'",
        "format": "üå•Ô∏è {}",
        "interval": 1800, 
        "tooltip": true,
        "on-click": "kitty -e curl wttr.in/64085" 
  
  },

    "clock#time": { 
        "format": "ÔÄó {:%I:%M %p}",
        "tooltip": false,
        "on-click": "" 
    },

    "clock#date": { 
        "format": "ÔÅ≥ {:%a %b %d}", 
        "tooltip-format": "{:%Y-%m-%d %A}", 
        "interval": 60,
        // FIX: Removed --no-buttons and added --button="Close:0"
        "on-click": "env GDK_DPI_SCALE=1.5 yad --calendar --undecorated --fixed --always-on-top --button=\"Close:0\" &"
    },

    "custom/power": {
        "format": "ÔÄë", 
        "tooltip": "Power Menu",
        // CRITICAL CHANGE: Using /usr/bin/systemctl instead of /usr/bin/loginctl
        "on-click": "sh -c 'yad --center --width=300 --height=150 --title=\"Power Options\" --text=\"Choose an action:\" --button=\"Shutdown\":0 --button=\"Reboot\":1 --button=\"Sleep\":2 --button=\"Cancel\":3;
EXIT_CODE=$?; if [ $EXIT_CODE -eq 0 ]; then /usr/bin/systemctl poweroff; elif [ $EXIT_CODE -eq 1 ]; then /usr/bin/systemctl reboot;
elif [ $EXIT_CODE -eq 2 ]; then /usr/bin/systemctl suspend; fi'"
    }
}
